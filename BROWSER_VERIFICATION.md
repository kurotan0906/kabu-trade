# ブラウザでの動作確認手順

このガイドでは、ブラウザでPhase 1の機能を実際に確認する手順を説明します。

## 前提条件

- バックエンドが起動していること
- ブラウザ（Chrome、Firefox、Safari等）

## ステップ1: バックエンドの起動

ターミナルで以下を実行：

```bash
cd backend
source venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

起動が成功すると、以下のメッセージが表示されます：
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

## ステップ2: APIドキュメントの確認

### 2.1 APIドキュメントにアクセス

ブラウザで以下のURLを開く：
```
http://localhost:8000/docs
```

**確認ポイント:**
- [ ] Swagger UIが表示される
- [ ] 左側にAPIエンドポイントのリストが表示される
- [ ] `/api/v1/stocks/{code}` が表示される
- [ ] `/api/v1/stocks/{code}/prices` が表示される

### 2.2 ヘルスチェックの確認

ブラウザで以下のURLを開く：
```
http://localhost:8000/health
```

**期待される表示:**
```json
{"status": "healthy"}
```

## ステップ3: 銘柄情報取得APIの動作確認

### 3.1 APIドキュメントから実行

1. APIドキュメント（http://localhost:8000/docs）で `/api/v1/stocks/{code}` をクリック
2. 「Try it out」ボタンをクリック
3. `code` フィールドに `7203` を入力
4. 「Execute」ボタンをクリック

**期待される結果:**
- レスポンスコード: `200`
- レスポンスボディに以下が含まれる：
  ```json
  {
    "code": "7203",
    "name": "トヨタ自動車",
    "current_price": 2500.0,
    ...
  }
  ```

### 3.2 ブラウザのアドレスバーから直接アクセス

ブラウザで以下のURLを開く：
```
http://localhost:8000/api/v1/stocks/7203
```

**期待される表示:**
- JSON形式で銘柄情報が表示される
- 銘柄名が「トヨタ自動車」であること
- 現在の株価が表示されること

## ステップ4: 株価データ取得APIの動作確認

### 4.1 APIドキュメントから実行

1. APIドキュメントで `/api/v1/stocks/{code}/prices` をクリック
2. 「Try it out」ボタンをクリック
3. `code` フィールドに `7203` を入力
4. `period` フィールドに `1y` を入力
5. 「Execute」ボタンをクリック

**期待される結果:**
- レスポンスコード: `200`
- レスポンスボディに以下が含まれる：
  ```json
  {
    "stock_code": "7203",
    "stock_name": "トヨタ自動車",
    "period": "1y",
    "prices": [
      {
        "date": "2023-01-11",
        "open": 2500.0,
        "high": 2550.0,
        "low": 2480.0,
        "close": 2520.0,
        "volume": 1000000
      },
      ...
    ]
  }
  ```

### 4.2 ブラウザのアドレスバーから直接アクセス

ブラウザで以下のURLを開く：
```
http://localhost:8000/api/v1/stocks/7203/prices?period=1y
```

**期待される表示:**
- JSON形式で株価データが表示される
- `prices` 配列に複数のデータが含まれること
- 各データに `date`, `open`, `high`, `low`, `close`, `volume` が含まれること

## ステップ5: 複数銘柄の確認

以下の銘柄コードでも同様に確認：

### 5.1 ソニーグループ（6758）

```
http://localhost:8000/api/v1/stocks/6758
http://localhost:8000/api/v1/stocks/6758/prices?period=1y
```

### 5.2 ソフトバンクグループ（9984）

```
http://localhost:8000/api/v1/stocks/9984
http://localhost:8000/api/v1/stocks/9984/prices?period=1y
```

## ステップ6: エラーハンドリングの確認

### 6.1 存在しない銘柄コード

ブラウザで以下のURLを開く：
```
http://localhost:8000/api/v1/stocks/9999
```

**期待される結果:**
- レスポンスコード: `404`
- エラーメッセージが表示される

## 確認チェックリスト

### バックエンドAPI
- [ ] ヘルスチェックが正常に動作する
- [ ] APIドキュメントが表示される
- [ ] 銘柄情報取得APIが正常に動作する（7203）
- [ ] 株価データ取得APIが正常に動作する（7203）
- [ ] 複数銘柄で動作確認できる（6758, 9984）
- [ ] エラーハンドリングが正常に動作する（存在しない銘柄コード）

### モックデータ
- [ ] トヨタ自動車（7203）のデータが返る
- [ ] ソニーグループ（6758）のデータが返る
- [ ] ソフトバンクグループ（9984）のデータが返る
- [ ] 株価データに適切な値が含まれる

## 次のステップ

バックエンドAPIの動作確認が完了したら：

1. **フロントエンドの動作確認**
   - Node.jsをインストール
   - フロントエンドを起動
   - ブラウザで http://localhost:5173 にアクセス
   - チャート表示を確認

2. **データベース機能の確認**
   - Dockerをインストール
   - データベースを起動
   - データの永続化を確認

詳細は各ドキュメントを参照してください。
